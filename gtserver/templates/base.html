{% load static %}
<!DOCTYPE html>
<html style="min-height: 100%;background-image: url('{% static 'img/joga_background.svg' %}'); background-repeat: no-repeat; background-position: right bottom;">
  <head>
    <!--Import JQuery-->
    <script type="text/javascript" src="{% static 'js/jquery-3.5.1.min.js' %}"></script>

    <!--Import materialize.css-->
    {% if user.groups.first.name == "customers" %}
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize_red.min.css' %}"  media="screen,projection"/>
    {% elif user.groups.first.name == "suppliers" %}
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize_green.min.css' %}"  media="screen,projection"/>
    {% else %}
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize_light-blue.min.css' %}"  media="screen,projection"/>
    {% endif %}

    <!--Import materialize.js-->
    <script type="text/javascript" src="{% static 'js/materialize.min.js' %}"></script>

    <!--Import materialize.icons.css-->
    <link type="text/css" rel="stylesheet" href="{% static 'css/materialize.icons.css' %}"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>{{title}}</title>
    
    <style>
      nav .brand-logo {
        position: relative;
      }
      
      .dropdown-content li>* {
          display: flex;
          align-items: center;
      }

      .dropdown-content {
          width: auto !important;
      }

          /* optional */
      .dropdown-content a> i {
          margin-right: 16px;
      }

      .table-scrollable {
          width: 100%;
          overflow-y: auto;
          margin: 0 0 1em;
      }

      .table-scrollable::-webkit-scrollbar {
          -webkit-appearance: none;
          width: 14px;
          height: 14px;
      }

      .table-scrollable::-webkit-scrollbar-thumb {
          border-radius: 8px;
          border: 3px solid #fff;
          background-color: rgba(0, 0, 0, .3);
      }
    </style>

    <!-- Head-->
    {% block head %}

    {% endblock %}

  </head>

  <body>

    <!-- Navbar-->
    <nav>
      <div class="nav-wrapper">
        <a data-target="mobile-demo" class="sidenav-trigger show-on-large"><i class="material-icons">menu</i></a>
        <a href="{% url 'home' %}" class="brand-logo left">Logo</a>
        {% if user.is_authenticated %}
        <ul class="right">
          <li><a href=""><i class="material-icons">chat_bubble</i></a></li>
          <li><a href=""><i class="material-icons">qr_code</i></a></li>
          <li><a href=""><i class="material-icons">notifications</i></a></li>
          <li ><a class="dropdown-trigger" href="#" data-target="userdropdown"><i class="material-icons left">person</i>{{ user.username }}</a></li>
        </ul>
        {% else %}
        <ul class="right">
          <li><a href="{% url 'login' %}"><i class="material-icons left">login</i>Einloggen</a></li>
        </ul>
        {% endif %}
      </div>
    </nav>

    {% if user.is_authenticated %}
    <!-- Dropdown Structure -->
    <ul id="userdropdown" class="dropdown-content">
      {% if debug_flag %}
      <li><a href="{% url 'change_user' %}"><i class="material-icons left">people</i>Benutzer wechseln</a></li>
      <li class="divider"></li>
      {% endif %}
      <li><a href="{% url 'logout' %}"><i class="material-icons left">exit_to_app</i>Ausloggen</a></li>
    </ul>
    {% endif %}

    <!-- Mobile Navbar-->
    <ul class="sidenav" id="mobile-demo">
      <li{% if active == "Startseite" %} class="active"{% endif %}><a href="{% url 'home' %}">Startseite</a></li>
      <li{% if active == "Aufgaben" %} class="active"{% endif %}><a href="{% url 'tasks' %}">Aufgaben</a></li>
      <li{% if active == "Aufträge" %} class="active"{% endif %}><a href="{% url 'cust_order' %}">Aufträge</a></li>
      <li{% if active == "Bestellungen" %} class="active"{% endif %}><a href="">Bestellungen</a></li>
      <li{% if active == "Auftragsreklamationen" %} class="active"{% endif %}><a href="">Auftragsreklamationen</a></li>
      <li{% if active == "Bestellreklamationen" %} class="active"{% endif %}><a href="">Bestellreklamationen</a></li>
      <li{% if active == "Dashboard" %} class="active"{% endif %}><a href="">Dashboard</a></li>
    </ul>

    <!-- Content-->
    <div class="container">
      {% block content %}
      {% endblock %}
    </div>
    
    <!-- Additional Body-->
    {% block body %}

    {% endblock %}

    <!-- Scripts-->
    <script type="text/javascript">
        $(document).ready(function(){
          $('.sidenav').sidenav();
          $(".dropdown-trigger").dropdown();
        });
    </script>
    {% block scripts %}

    {% endblock %}
  </body>
</html>